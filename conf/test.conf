# Server Configuration File

# Handle GET request for root ('/')
location / {
  limit_except GET {
    deny all;
  }
  # Additional configuration to serve the root can be added here
}

# Handle PUT request for '/put_test/*' and save files to /var/www/uploads
location ~ ^/put_test/.+ {
  limit_except PUT {
    deny all;
  }
  client_body_in_file_only on;
  client_body_temp_path /var/www/uploads;
  # Additional PUT request configurations can be added here
}

# Route any '.bla' extension to POST request handled by cgi_test executable
location ~ \.bla$ {
  limit_except POST {
    deny all;
  }
  include /etc/nginx/fastcgi_params;
  fastcgi_pass  unix:/var/run/cgi_test.sock;
  # Or alternatively if using a TCP connection: fastcgi_pass 127.0.0.1:9000;
  fastcgi_index index.bla;
  fastcgi_param SCRIPT_FILENAME /usr/lib/cgi-bin/cgi_test$fastcgi_script_name;
}

# Handle POST request for '/post_body' with a body size limit
location /post_body {
  limit_except POST {
    deny all;
  }
  client_max_body_size 100;
  # Define how to process the POST request here
}

# Serve the YoupiBanane repository for '/directory/' and look for youpi.bad_extension if no file specified
location /directory/ {
  alias /path/to/YoupiBanane/;
  try_files $uri $uri/ /youpi.bad_extension;
  # Additional directives for handling GET requests can be added here
}